//构建脚本通用配置////////////////////////////////////////////////////////////////////////////////////

buildscript {
    //构建脚本依赖仓库
    repositories {
        jcenter()//jcenter
//        maven{ url 'http://maven.aliyun.com/nexus/content/groups/public'}//阿里云仓库
    }
    //构建脚本依赖
    dependencies {
        classpath 'com.android.tools.build:gradle:2.4.0-alpha6'//安卓构建插件
//        classpath 'com.android.tools.build:gradle:2.3.0'//安卓构建插件
    }
}

//全部工程通用配置////////////////////////////////////////////////////////////////////////////////////

allprojects {
    //工程依赖仓库
    repositories {
//        mavenLocal()//本地仓库
//        maven{ url 'file:C:/m2repository/repository'}//本地仓库:指定路径
        jcenter()//jcenter
//        maven{ url 'http://maven.aliyun.com/nexus/content/groups/public'}//阿里云仓库
    }
}

//库工程通用配置////////////////////////////////////////////////////////////////////////////////////

configure(subprojects.findAll { it.name.startsWith('turquoise') }) {
    apply plugin: 'com.android.library'

    android {
        compileSdkVersion 25
        buildToolsVersion '25.0.2'

        defaultConfig {
            minSdkVersion 11
            targetSdkVersion 25
            versionCode Integer.valueOf(library_version_code)
            versionName library_version_name
        }

        buildTypes {
            release {
                minifyEnabled false
                proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            }
        }
    }
}

//DEMO工程通用配置////////////////////////////////////////////////////////////////////////////////////

configure(subprojects.findAll { it.name.startsWith('demo') }) {
    apply plugin: 'com.android.application'
}

//其他////////////////////////////////////////////////////////////////////////////////////

//上传本地仓库
apply from: 'build-upload.gradle'

//打印依赖对应的缓存文件
subprojects {
    task printDependenciesCacheMapping {
        group 'sv-help'
        doLast {
            configurations.getByName('compile').each { dependency ->
                println dependency
            }
        }
    }
}